(this.webpackJsonpranking=this.webpackJsonpranking||[]).push([[0],{113:function(e,t,a){e.exports={header:"style_header__2lGhW",sub:"style_sub__33mF9",BtnLogin:"style_BtnLogin__35I2A",BtnRegister:"style_BtnRegister__A8Va7"}},140:function(e,t,a){e.exports={Aside:"style_Aside__11zpW",active:"style_active__b6h8V"}},176:function(e,t,a){e.exports={item:"style_item__4pg4g",banner:"style_banner__iUC8_"}},180:function(e,t,a){e.exports={Login:"style_Login__324_Q",Wrapper:"style_Wrapper__lmgpY"}},181:function(e,t,a){e.exports={Register:"style_Register__1BDl8",Wrapper:"style_Wrapper__24m2c"}},275:function(e,t,a){e.exports={addTestForm:"style_addTestForm__2oXG9",form:"style_form__21neQ"}},284:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getResults}));var _Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),_Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),_utils_api__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(74),getResults=function(){var _ref=Object(_Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(userCode){var res;return _Users_nhat_one_code_cheaterrank_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("".concat(_utils_api__WEBPACK_IMPORTED_MODULE_3__.b,"/api/test"),userCode);case 3:if(res=_context.sent,!res.data.includes("Error")){_context.next=8;break}return _context.abrupt("return",res.data);case 8:return _context.abrupt("return",eval("("+res.data+")"));case 9:_context.next=13;break;case 11:_context.prev=11,_context.t0=_context.catch(0);case 13:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function(e){return _ref.apply(this,arguments)}}()},293:function(e,t,a){e.exports=a(572)},298:function(e,t,a){},477:function(e,t){},479:function(e,t){},513:function(e,t){},514:function(e,t){},570:function(e,t,a){},572:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),s=a.n(c),o=(a(298),a(40)),l=a(37),i=a(113),u=a.n(i),_=a(29),m=a(577),d=function(e){return{type:"GETTING_RESULT",userCode:e}},p=function(e){return{type:"GETTING_LOADING",isLoading:e}},E=function(e){return{type:"SET_LOGOUT",data:e}},f=m.a.SubMenu,b=Object(l.g)((function(e){var t=e.history,a=Object(_.c)((function(e){return e.authReducer.currentUser})),n=Object(_.b)();return r.a.createElement("header",{className:u.a.header},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:u.a.sub},r.a.createElement("h2",null,r.a.createElement(o.b,{to:"/"})),r.a.createElement("nav",null,a?r.a.createElement(m.a,{mode:"vertical-right"},r.a.createElement(f,{title:r.a.createElement("img",{width:"36",height:"36",style:{borderRadius:"50%"},src:a.avatar,alt:"avatar"})},r.a.createElement(m.a.Item,null,"Welcome, ".concat(a.name)),r.a.createElement(m.a.Item,null,"Setting"),r.a.createElement(m.a.Item,{onClick:function(){n(E(t))}},"Logout"))):r.a.createElement("ul",{style:{display:"flex",alignItems:"center"}},r.a.createElement("li",null,r.a.createElement(o.b,{className:u.a.BtnRegister,to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(o.b,{className:u.a.BtnLogin,to:"/login"},"Login")))))))})),h=a(176),O=a.n(h),g=function(e){var t=e.title,a=e.lang,n=e.banner;return(r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("div",{className:O.a.item},r.a.createElement("div",{className:O.a.banner},r.a.createElement("img",{src:n,alt:""})),r.a.createElement("h2",null,r.a.createElement(o.b,{to:"/".concat(a)},t," ")))))},v=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(g,{title:"Practice Javascript",lang:"javascript",banner:"https://picsum.photos/1200/800"}),r.a.createElement(g,{title:"Practice CSS",lang:"css",banner:"https://picsum.photos/1201/800"}),r.a.createElement(g,{title:"Practice HTML",lang:"html",banner:"https://picsum.photos/1202/800"})))},y=function(){return r.a.createElement("main",null,r.a.createElement(v,null))},T=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(y,null))},j=a(50),w=a(140),R=a.n(w),x=a(99),S=a(100),k=r.a.memo((function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.testReducer.tests})),a=Object(_.c)((function(e){return e.testReducer.currentTest}));Object(n.useEffect)((function(){return e({type:"FETCHING_TESTS"}),function(){}}),[]);return r.a.createElement("aside",{className:R.a.Aside},r.a.createElement("nav",null,r.a.createElement("ul",null,t&&t.map((function(t,n){return r.a.createElement("li",{onClick:function(){return a=t._id,void e(function(e){return{type:"GETTING_TEST",data:e}}(a));var a},key:t._id,className:a&&a._id===t._id?R.a.active:""},"C\xe2u ",n+1,r.a.createElement(x.a,{className:R.a.rotate,style:{marginLeft:10},color:"rgb(0, 255, 0)",size:"sm",icon:S.b}))})))))})),P=a(16),N=a.n(P),I=a(32),L=a(65),C=a(271),G=a.n(C),U=(a(329),a(330),a(331),a(114),a(86)),A=a.n(U),D=a(581),W=Object(l.g)((function(e){var t=e.currentTestFromStore,a=e.history,c=Object(n.useState)(""),s=Object(j.a)(c,2),o=s[0],l=s[1],i=Object(n.useState)(null),u=Object(j.a)(i,2),m=u[0],E=u[1],f=Object(_.b)(),b=Object(_.c)((function(e){return e.resultReducer.isLoading})),h=Object(_.c)((function(e){return e.resultReducer.results})),O=Object(_.c)((function(e){return e.errorReducer.error})),g=Object(n.useRef)([]);g.current=[],Object(n.useEffect)((function(){return E(t),null!==t&&l(y(t.desc)),function(){}}),[t]);var v,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.split("\n").map((function(e){return"// ".concat(e)})).join("\n"),a="function solution(input){\n".concat(t,"\n\n}");return a},T=function(e){e&&!g.current.includes(e)&&(e.style.display="none",g.current.push(e))},w=function(e){return e?r.a.createElement(x.a,{style:{marginLeft:10},color:"rgb(0, 255, 0)",size:"lg",icon:S.a}):r.a.createElement(x.a,{style:{marginLeft:10},color:"#e74c3c",size:"lg",icon:S.d})},R=function(){var e=Object(L.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(p(!0)),null!==(t=/\{((.|\n)*)(.*?)\}/gm.exec(o))?(a=Object(I.a)(Object(I.a)({},m),{},{code:t[1]}),f(d(a))):(f(p(!1)),l("function solution(input){\n  // your code here\n}"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{marginLeft:220,paddingRight:40,paddingTop:10,paddingBottom:100}},r.a.createElement(D.a,{style:{fontSize:20,color:"lime",marginBottom:10,cursor:"pointer"},onClick:function(){return a.push("/")}}),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"},className:"wrapper"},r.a.createElement("div",{className:"editor"},r.a.createElement(G.a,{name:"editor",mode:"javascript",theme:"monokai",onChange:function(e){l(e)},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,value:o,width:"650px"}),r.a.createElement("div",{className:A.a.btnActions},r.a.createElement("button",{onClick:R,style:{pointerEvents:b?"none":""}},b?"\u0110ang ki\u1ec3m  tra":"Ki\u1ec3m tra"))),r.a.createElement("div",{style:{marginLeft:20},className:A.a.cases},r.a.createElement("ul",null,JSON.parse(m.inputs.split("'").join('"')).map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{onClick:function(){return e=t,void("none"!==g.current[e].style.display?g.current[e].style.display="none":g.current[e].style.display="block");var e},className:A.a.caseTitle},"Test Case ",t+1,function(e){if(h)return b?r.a.createElement(x.a,{className:A.a.rotate,style:{marginLeft:10},color:"white",size:"lg",icon:S.c}):h.failed_cases.includes(e+1)?w(!1):w(!0)}(t)),r.a.createElement("div",{ref:T,style:{display:"none"}},r.a.createElement("div",{className:A.a.caseDetail},r.a.createElement("p",null,"Input"),r.a.createElement("span",null,JSON.stringify(e)),r.a.createElement("p",{style:{marginTop:20}},"Output"),r.a.createElement("span",null,JSON.stringify(JSON.parse(m.outputs.split("'").join('"'))[t]).split("\\").join("")),h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginTop:20}},"Your Result"),r.a.createElement("span",{style:{color:h.failed_cases.includes(t+1)?"#e74c3c":"#e67e22"}},"undefined"!==typeof h.code_result[t]?JSON.stringify(h.code_result[t]):"undefined")))))}))))),O&&(v=O,r.a.createElement("div",{className:A.a.err},v))))})),M=a(272),B=a.n(M),F=function(){var e=Object(n.useState)(!1),t=Object(j.a)(e,2),a=t[0],c=t[1],s=Object(_.c)((function(e){return e.testReducer.currentTest}));Object(n.useEffect)((function(){return s?setTimeout((function(){c(!1)}),2e3):c(!0),function(){}}),[s]);return a?r.a.createElement("div",{style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(B.a,{size:80,color:"lime",loading:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(W,{currentTestFromStore:s}))},K=a(274),q=a(275),z=a.n(q),V=a(62),H=a.n(V),J=a(74),X=a(578),Y=a(579),Q=a(580),$=a(576),Z=a(575),ee=a(182),te=a(582),ae=a(583),ne=a(95),re=X.a.Option,ce=Y.a.TextArea,se=function(){var e=Object(ne.useForm)(),t=Object(j.a)(e,1)[0],a=Object(n.useState)(0),c=Object(j.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)("javascript"),u=Object(j.a)(i,2),_=u[0],m=u[1],d=function(){var e=Object(L.a)(N.a.mark((function e(t){var a,n,r,c,o,l,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.desc,n=[],r=[],null===t||void 0===t?void 0:t.testcases){c=Object(K.a)(t.testcases);try{for(c.s();!(o=c.n()).done;)l=o.value,n.push(l.input),r.push(l.output)}catch(u){c.e(u)}finally{c.f()}}return i={language:_,level:s,inputs:"[".concat(String(n),"]"),outputs:"[".concat(String(r),"]"),desc:a},e.next=7,H.a.post("".concat(J.a,"/api/v1/cheaterrank/test"),i);case 7:e.sent&&Q.b.success("Post Test Successfully!");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:z.a.addTestForm},r.a.createElement($.a,{name:"basic",initialValues:{remember:!0},onFinish:d,onFinishFailed:function(e){},layout:"vertical",style:{padding:40,background:"white",width:500},form:t},r.a.createElement(o.b,{to:"/",style:{marginBottom:20,textDecoration:"underline"}},"Back"),r.a.createElement($.a.Item,{label:"Level",name:"level"},r.a.createElement(X.a,{defaultValue:"0",value:s,onChange:function(e){l(e)}},r.a.createElement(re,{value:"0"},"Easy"),r.a.createElement(re,{value:"1"},"Hard"),r.a.createElement(re,{value:"2"},"Expert"))),r.a.createElement($.a.Item,{label:"Language",name:"language"},r.a.createElement(X.a,{defaultValue:"javascript",value:_,onChange:function(e){m(e)}},r.a.createElement(re,{value:"javascript",selected:!0},"Javascript"),r.a.createElement(re,{value:"c"},"C++"))),r.a.createElement($.a.List,{name:"testcases"},(function(e,t){var a=t.add,n=t.remove;return(r.a.createElement("div",null,e.map((function(e){return r.a.createElement(Z.a,{key:e.key,style:{display:"flex",marginBottom:8},align:"start"},r.a.createElement($.a.Item,Object.assign({},e,{name:[e.name,"input"],fieldKey:[e.fieldKey,"input"],rules:[{required:!0,message:"Missing test case"}]}),r.a.createElement(Y.a,{placeholder:"input"})),r.a.createElement($.a.Item,Object.assign({},e,{name:[e.name,"output"],fieldKey:[e.fieldKey,"output"],rules:[{required:!0,message:"Missing expected output"}]}),r.a.createElement(Y.a,{placeholder:"output"})),r.a.createElement(te.a,{onClick:function(){n(e.name)}}))})),r.a.createElement($.a.Item,null,r.a.createElement(ee.a,{type:"dashed",onClick:function(){a()},block:!0},r.a.createElement(ae.a,null)," Add Case"))))})),r.a.createElement($.a.Item,{name:"desc",rules:[{required:!0}]},r.a.createElement(ce,{placeholder:"Test Description",allowClear:!0,rows:"5"})),r.a.createElement($.a.Item,null,r.a.createElement(ee.a,{style:{width:"100%"},size:"large",type:"primary",htmlType:"submit"},"Submit"))))},oe=a(180),le=a.n(oe),ie=a(584),ue=a(585),_e=a(586),me=function(e){var t=e.history,a=Object(ne.useForm)(),c=Object(j.a)(a,1)[0],s=Object(n.useState)(!1),l=Object(j.a)(s,2),i=l[0],u=l[1],m=Object(_.b)(),d=Object(_.c)((function(e){return e.authErrorReducer.error})),p=Object(_.c)((function(e){return e.authReducer.currentUser}));Object(n.useEffect)((function(){if(d){var e=d.field;u(!1),c.setFields([{name:e,errors:[d.msg]}])}return function(){m({type:"GET_AUTH_ERROR",error:null})}}),[d]),Object(n.useEffect)((function(){return p&&u(!1),function(){}}),[p]);return r.a.createElement("div",{className:le.a.Wrapper},r.a.createElement("div",{className:le.a.Login},r.a.createElement($.a,{name:"basic",initialValues:{remember:!0},onFinish:function(e){var a=e.email,n=e.password;u(!0),m({type:"POSTING_LOGIN",data:{email:a,password:n,history:t}})},onFinishFailed:function(e){},layout:"vertical",form:c},r.a.createElement(o.b,{to:"/",style:{marginBottom:20,textDecoration:"underline"}},"Back"),r.a.createElement($.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input your email!"}]},r.a.createElement(Y.a,{size:"large",prefix:r.a.createElement(ie.a,null),placeholder:"Email"})),r.a.createElement($.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(Y.a.Password,{placeholder:"Password",size:"large",prefix:r.a.createElement(ue.a,null)})),r.a.createElement($.a.Item,{style:{textAlign:"right"}},r.a.createElement(o.b,{to:"/register"},"Don't have an account?")),r.a.createElement($.a.Item,null,r.a.createElement(ee.a,{style:{width:"100%"},size:"large",type:"primary",htmlType:"submit",disabled:i?"disabled":"",icon:r.a.createElement(_e.a,null)},"Login")))))},de=function(e){e?H.a.defaults.headers.common.Authorization=e:delete H.a.defaults.headers.common.Authorization},pe=a(69),Ee=a(291),fe={tests:[],currentTest:null},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TESTS":return Object(I.a)(Object(I.a)({},e),{},{currentTest:Object(I.a)({},t.data[0]),tests:Object(Ee.a)(t.data)});case"GET_TEST":var a=t.data,n=e.tests.find((function(e){return e._id===a}));return Object(I.a)(Object(I.a)({},e),{},{currentTest:Object(I.a)({},n)});default:return e}},he={results:null,isLoading:!1},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RESULT":return Object(I.a)(Object(I.a)({},e),{},{results:t.data});case"GET_LOADING":return Object(I.a)(Object(I.a)({},e),{},{isLoading:t.isLoading});default:return e}},ge={error:""},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERROR":return Object(I.a)(Object(I.a)({},e),{},{error:t.error.toString()});default:return e}},ye={currentUser:null},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(I.a)(Object(I.a)({},e),{},{currentUser:t.data});default:return e}},je={error:null},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AUTH_ERROR":return Object(I.a)(Object(I.a)({},e),{},{error:t.error});default:return e}},Re=Object(pe.c)({testReducer:be,resultReducer:Oe,errorReducer:ve,authReducer:Te,authErrorReducer:we}),xe=a(290),Se=a(19),ke=function(){var e=Object(L.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("".concat(J.a,"/api/v1/cheaterrank/tests"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=a(284),Ne=a(285),Ie=a.n(Ne),Le=function(){var e=Object(L.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(J.a,"/api/v1/cheaterrank/auth/login"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(L.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.post("".concat(J.a,"/api/v1/cheaterrank/auth/register"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=N.a.mark(Ke),Ue=N.a.mark(qe),Ae=N.a.mark(ze),De=N.a.mark(Ve),We=N.a.mark(He),Me=N.a.mark(Je),Be=N.a.mark(Xe),Fe=N.a.mark(Ye);function Ke(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ke();case 3:return e=t.sent,t.next=6,Object(Se.c)({type:"GET_TESTS",data:e});case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),Ge,null,[[0,8]])}function qe(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Se.c)({type:"GET_RESULT",result:null});case 3:return t.next=5,Object(Se.c)({type:"GET_ERROR",error:""});case 5:return t.next=7,Object(Se.c)({type:"GET_TEST",data:e.data});case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),Ue,null,[[0,9]])}function ze(e){var t;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Se.c)({type:"GET_ERROR",error:""});case 2:return a.prev=2,a.next=5,Object(Pe.a)(e.userCode);case 5:if("object"!==typeof(t=a.sent)){a.next=15;break}return a.next=9,Object(Se.c)({type:"GET_RESULT",data:t});case 9:return a.next=11,Object(Se.b)(1e3);case 11:return a.next=13,Object(Se.c)({type:"GET_LOADING",isLoading:!1});case 13:a.next=26;break;case 15:if(void 0!==t){a.next=20;break}return a.next=18,Object(Se.c)({type:"GET_ERROR",error:"D\xf9ng return \u0111\u1ec3 tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3"});case 18:return a.next=20,Object(Se.c)({type:"GET_RESULT",results:null});case 20:return a.next=22,Object(Se.c)({type:"GET_ERROR",error:t});case 22:return a.next=24,Object(Se.c)({type:"GET_RESULT",results:null});case 24:return a.next=26,Object(Se.c)({type:"GET_LOADING",isLoading:!1});case 26:a.next=34;break;case 28:return a.prev=28,a.t0=a.catch(2),a.next=32,Object(Se.b)(1e3);case 32:return a.next=34,Object(Se.c)({type:"GET_LOADING",isLoading:!1});case 34:case"end":return a.stop()}}),Ae,null,[[2,28]])}function Ve(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Se.c)({type:"GET_LOADING",isLoading:e.isLoading});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),De,null,[[0,5]])}function He(e){var t,a,n;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Le(e.data);case 3:return t=r.sent,a=t.token,localStorage.setItem("jwtToken",a),de(a),n=Ie()(a),r.next=10,Object(Se.c)({type:"SET_CURRENT_USER",data:n});case 10:return r.next=12,Object(Se.c)({type:"GET_AUTH_ERROR",error:null});case 12:e.data.history.push("/"),r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(Se.c)({type:"GET_AUTH_ERROR",error:r.t0.response.data});case 20:case"end":return r.stop()}}),We,null,[[0,16]])}function Je(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ce(e.data);case 3:return t.next=5,Object(Se.c)({type:"GET_AUTH_ERROR",error:null});case 5:e.data.history.push("/login"),t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),t.next=13,Object(Se.c)({type:"GET_AUTH_ERROR",error:t.t0.response.data});case 13:case"end":return t.stop()}}),Me,null,[[0,9]])}function Xe(e){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,localStorage.removeItem("jwtToken"),de(!1),t.next=5,Object(Se.c)({type:"SET_CURRENT_USER",data:null});case 5:e.data.push("/login"),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),Be,null,[[0,8]])}function Ye(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.a)([Object(Se.d)("FETCHING_TESTS",Ke),Object(Se.d)("GETTING_TEST",qe),Object(Se.d)("GETTING_RESULT",ze),Object(Se.d)("GETTING_LOADING",Ve),Object(Se.d)("POSTING_LOGIN",He),Object(Se.d)("POST_REGISTER",Je),Object(Se.d)("SET_LOGOUT",Xe)]);case 2:case"end":return e.stop()}}),Fe)}var Qe=Ye,$e=Object(xe.a)(),Ze=[$e],et=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):pe.d)(pe.a.apply(void 0,Ze)),tt=Object(pe.e)(Re,{},et);$e.run(Qe);var at=tt,nt=a(139),rt=function(e){var t=e.component,a=Object(nt.a)(e,["component"]),n=Object(_.c)((function(e){return e.authReducer.currentUser}));return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return"admin"===(null===n||void 0===n?void 0:n.role)?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/"})}}))},ct=a(181),st=a.n(ct),ot=a(587),lt=function(e){var t=e.history,a=Object(ne.useForm)(),c=Object(j.a)(a,1)[0],s=Object(n.useState)(!1),l=Object(j.a)(s,2),i=l[0],u=l[1],m=Object(_.b)(),d=Object(_.c)((function(e){return e.authErrorReducer.error}));Object(n.useEffect)((function(){if(d){var e=d.field;u(!1),c.setFields([{name:e,errors:[d.msg]}])}return function(){m({type:"GET_AUTH_ERROR",error:null})}}),[d]);return r.a.createElement("div",{className:st.a.Wrapper},r.a.createElement("div",{className:st.a.Register},r.a.createElement($.a,{name:"basic",initialValues:{remember:!0},onFinish:function(e){var a=e.name,n=e.email,r=e.password,c=e.password2;u(!0),m({type:"POST_REGISTER",data:{name:a,email:n,password:r,password2:c,history:t}})},onFinishFailed:function(e){},layout:"vertical",form:c},r.a.createElement(o.b,{to:"/",style:{marginBottom:20,textDecoration:"underline"}},"Back"),r.a.createElement($.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"},{min:6,max:30,message:"Name must be between 6 and 30 characters!"}]},r.a.createElement(Y.a,{size:"large",prefix:r.a.createElement(ie.a,null),placeholder:"Name"})),r.a.createElement($.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please input your email!"}]},r.a.createElement(Y.a,{size:"large",prefix:r.a.createElement(ot.a,null),placeholder:"Email"})),r.a.createElement($.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be at least 6 characters"}]},r.a.createElement(Y.a.Password,{placeholder:"Password",size:"large",prefix:r.a.createElement(ue.a,null)})),r.a.createElement($.a.Item,{label:"Confirm Password",name:"password2",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password!"},{min:6,message:"Password must be at least 6 characters"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(Y.a.Password,{placeholder:"Confirm Password",size:"large",prefix:r.a.createElement(ue.a,null)})),r.a.createElement($.a.Item,{style:{textAlign:"right"}},r.a.createElement(o.b,{to:"/login"},"I have an account")),r.a.createElement($.a.Item,null,r.a.createElement(ee.a,{style:{width:"100%"},size:"large",type:"primary",htmlType:"submit",disabled:i?"disabled":"",icon:r.a.createElement(_e.a,null)},"Register")))))},it=function(e){var t=e.component,a=Object(nt.a)(e,["component"]),n=Object(_.c)((function(e){return e.authReducer.currentUser}));return r.a.createElement(l.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/login"})}}))},ut=a(286),_t=a.n(ut);if(localStorage.jwtToken){de(localStorage.jwtToken);try{var mt=_t.a.verify(localStorage.jwtToken.split(" ")[1],"gtijo3ttret34665rgf");at.dispatch({type:"SET_CURRENT_USER",data:mt});var dt=Date.now()/1e3;mt.exp<dt&&(at.dispatch(E()),window.location.href="/login")}catch(bt){localStorage.removeItem("jwtToken"),window.location.href="/login"}}var pt=function(){return r.a.createElement(o.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{component:T,path:"/",exact:!0}),r.a.createElement(l.b,{component:me,path:"/login"}),r.a.createElement(l.b,{component:lt,path:"/register"}),r.a.createElement(rt,{component:se,path:"/admin"}),r.a.createElement(it,{component:F,path:"/:lang"}),r.a.createElement(l.b,{render:function(e){return r.a.createElement("h1",null,"Page Not Found")},path:"*",exact:!0})))},Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ft(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(570),a(571);s.a.render(r.a.createElement(_.a,{store:at},r.a.createElement(pt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Et?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ft(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ft(t,e)}))}}()},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="prod"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_PRIVATE_KEY:"gtijo3ttret34665rgf"}).REACT_APP_ENV?"https://toihocweb.net":"http://localhost:8000",r="prod"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_PRIVATE_KEY:"gtijo3ttret34665rgf"}).REACT_APP_ENV?"https://toihocweb.net":"http://localhost:5000"},86:function(e,t,a){e.exports={question:"style_question__1nnVk",btnActions:"style_btnActions__1vKPl",cases:"style_cases__M46T5",caseTitle:"style_caseTitle__1VPbj",err:"style_err__1mfwj",caseDetail:"style_caseDetail__2WqDS",rotate:"style_rotate__2Nq91"}}},[[293,1,2]]]);
//# sourceMappingURL=main.d2cebdd3.chunk.js.map